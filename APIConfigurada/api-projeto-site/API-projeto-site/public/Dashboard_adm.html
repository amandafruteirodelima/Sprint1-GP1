<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/headerDark.css">
    <link rel="stylesheet" href="css/Dash_adm.css">
    <link rel="icon" href="img/Yin-Yang-DevTime.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.2.0/chart.min.js"
        integrity="sha512-VMsZqo0ar06BMtg0tPsdgRADvl0kDHpTbugCBBrL55KmucH6hP9zWdLIWY//OTfMnzz6xWQRxQqsUFefwHuHyg=="
        crossorigin="anonymous"></script>
    <title>Dashboard</title>
</head>

<body>
    <!--Início Header-->
    <div class="divHeader">

        <div class="container-header">

            <div class="divImagem"><img src="./img/Logo-Branco.png" alt="Logo DevTime"></div>

            <nav class="divLista">
                <ul>
                    <li><a class="li-select" href="Dashboard_adm.html">Dashboard</a></li>
                    <li><a class="li-comum" href="Ranking_adm.html">Ranking</a></li>
                    <li><a class="li-comum" href="Cadastro.html">Cadastro</a></li>
                    <li><a class="li-comum" href="Dashboard_selecao_componentes.html">Componentes</a></li>
                </ul>
            </nav>
            <div class="divButton"><button><a class="li-comum" href="Login.html">Sair</a></button></div>
        </div>
    </div>
    <!--Fim Header-->

    <!-- Início da página -->
    <h1 id="h1_1">BEM-VINDO</h1>

    <!-- Membros online -->
    <h2>Membros da equipe que estão online agora</h2>

    <div id="div_online" class="div_online">
        <!-- <div class="div_online_organizadora">
            <div class="div_online_content">
                <h3 id="user_1">Amanda:</h3>
                <div class="circulo" id="online_1"></div>
            </div>
            <div class="div_online_content">
                <h3 id="user_2">Danilo:</h3>
                <div class="circulo" id="online_2"></div>
            </div>
        </div>
        <div class="div_online_organizadora">
            <div class="div_online_content">
                <h3 id="user_3">Guilherme:</h3>
                <div class="circulo" id="online_3"></div>
            </div>
            <div class="div_online_content">
                <h3 id="user_4">Karolline:</h3>
                <div class="circulo" id="online_4"></div>
            </div>
        </div>
        <div class="div_online_organizadora">
            <div class="div_online_content">
                <h3 id="user_5">Matheus:</h3>
                <div class="circulo" id="online_5"></div>
            </div>
            <div class="div_online_content">
                <h3 id="user_6">Rony:</h3>
                <div class="circulo" id="online_6"></div>
            </div>
        </div> -->

    </div>

    <!-- Divisória -->
    <div class="div_divisora"></div>

    <!-- Desempenho equipe -->
    <div class="organizadora">
        <h2 id="h2_alt" class="h2_alt">Desempenho dos membros da equipe</h2>
        <img onclick="mudar_frase()" class="question" src="img/question.png" alt="question icon">
    </div>

    <div id="div_desempenho_pai" class="div_desempenho_pai">
        <div class="div_desempenho_organizadora">
            <div id="desempenho_1" name="1" onclick="abrir_info(this.name)" class="div_desempenho_content">
                <img id="check_1" class="check" src="img/checked.png" alt="">
                <img class="person" src="img/woman.png" alt="woman icon">
                <h3>Amanda</h3>
            </div>
            <div id="desempenho_2" name="2" onclick="abrir_info(this.name)" class="div_desempenho_content">
                <img id="check_2" class="check" src="img/checked.png" alt="">
                <img class="person" src="img/man.png" alt="man icon">
                <h3>Danilo</h3>
            </div>
            <div id="desempenho_3" name="3" onclick="abrir_info(this.name)" class="div_desempenho_content">
                <img id="check_3" class="check" src="img/checked.png" alt="">
                <img class="person" src="img/woman.png" alt="woman icon">
                <h3>Karolline</h3>
            </div>
        </div>

        <div class="div_desempenho_organizadora">
            <div id="desempenho_4" name="4" onclick="abrir_info(this.name)" class="div_desempenho_content">
                <img id="check_4" class="check" src="img/checked.png" alt="">
                <img class="person" src="img/man.png" alt="man icon">
                <h3>Guilherme</h3>
            </div>
            <div id="desempenho_5" name="5" onclick="abrir_info(this.name)" class="div_desempenho_content">
                <img id="check_5" class="check" src="img/checked.png" alt="">
                <img class="person" src="img/man.png" alt="man icon">
                <h3>Matheus</h3>
            </div>
            <div id="desempenho_6" name="6" onclick="abrir_info(this.name)" class="div_desempenho_content">
                <img id="check_6" class="check" src="img/checked.png" alt="">
                <img class="person" src="img/man.png" alt="man icon">
                <h3>Rony</h3>
            </div>
        </div>
    </div>

    <!-- Desempenho equipe (quando clicado) -->
    <div id="div_desempenho_pai_alternativa" style="display: none;" class="div_desempenho_pai_alternativa">

        <div class="organizadora_title_alternativa">

            <img id="desempenho_go_back" onclick="go_back()" class="desempenho_go_back" src="img/seta.png" alt="">

            <h2 class="alt_title">Detalhes da produtividade de: </h2>

            <img class="invisible" src="img/seta.png">

        </div>

        <h2 id="h2_nome" class="alt_title2"></h2>

        <div id="div_options" class="div_options">

            <div class="div_option_content" onclick="tempo_logado()">

                <h2 class="alt_title3">Ver tempo logado na máquina</h2>
                <img class="img_option" src="img/time-left.png">

            </div>

            <div class="div_option_content" onclick="aplicativos_usados()">

                <h2 class="alt_title3">Ver aplicativos usados na máquina</h2>
                <img class="img_option" src="img/apps.png">

            </div>

        </div>

        <!-- Desempenho equipe (quando clicado) / Tempo Logado -->
        <div id="div_tempo_logado" class="div_tempo_logado" style="display: none;">

            <!-- Divisória -->
            <div class="div_divisora_alt"></div>

            <div class="div_geral_check_lado">
                <div class="div_check_lado">
                    <input id="caixa_selecao1" type="checkbox" onclick="caixa_usado_hoje()">
                    <label class="alt_title3" for="caixa_selecao1">Ver tempo usado hoje:</label>
                </div>
                <div class="div_check_lado">
                    <input id="caixa_selecao2" type="checkbox" onclick="caixa_usado_semana()">
                    <label class="alt_title3" for="caixa_selecao2">Ver tempo usado na semana:</label>

                </div>
                <div class="div_check_lado">
                    <input id="caixa_selecao3" type="checkbox" onclick="caixa_usado_quinzena()">
                    <label class="alt_title3" for="caixa_selecao3">Ver tempo usado na quinzena:</label>
                </div>
            </div>

            <div class="div_data" id="div_usado_hoje">
                <h2 class="alt_title3">Tempo usado hoje:</h2>
                <h2 class="alt_title3">4 horas</h2>
            </div>

            <!-- Divisória -->
            <div class="div_divisora_alt" id="div_divisora_alt1"></div>

            <div class="div_data" id="div_usado_semana">

                <h2 class="alt_title3">Tempo usado na semana:</h2>

                <div class="organizadora_alt">

                    <div class="quadrado">
                        <h4 class="alt_title4">seg</h4>
                        <h4 class="alt_title4">8h</h4>
                    </div>
                    <div class="quadrado">
                        <h4 class="alt_title4">ter</h4>
                        <h4 class="alt_title4">8h</h4>
                    </div>
                    <div class="quadrado">
                        <h4 class="alt_title4">qua</h4>
                        <h4 class="alt_title4">8h</h4>
                    </div>
                    <div class="quadrado">
                        <h4 class="alt_title4">qui</h4>
                        <h4 class="alt_title4">10h</h4>
                    </div>
                    <div class="quadrado">
                        <h4 class="alt_title4">sex</h4>
                        <h4 class="alt_title4">8h</h4>
                    </div>
                    <div class="quadrado">
                        <h4 class="alt_title4">sab</h4>
                        <h4 class="alt_title4">2h</h4>
                    </div>
                    <div class="quadrado">
                        <h4 class="alt_title4">dom</h4>
                        <h4 class="alt_title4">0h</h4>
                    </div>
                </div>
            </div>

            <!-- Divisória -->
            <div class="div_divisora_alt" id="div_divisora_alt2"></div>

            <div class="div_data" id="div_usado_quinzena">
                <h2 class="alt_title3">Tempo usado na quinzena</h2>

                <div class="organizadora_alt">

                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 1</h4>
                        <h4 class="alt_title5">8h</h4>
                    </div>
                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 2</h4>
                        <h4 class="alt_title5">8h</h4>
                    </div>
                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 3</h4>
                        <h4 class="alt_title5">8h</h4>
                    </div>
                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 4</h4>
                        <h4 class="alt_title5">8h</h4>
                    </div>
                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 5</h4>
                        <h4 class="alt_title5">8h</h4>
                    </div>
                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 6</h4>
                        <h4 class="alt_title5">0h</h4>
                    </div>
                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 7</h4>
                        <h4 class="alt_title5">0h</h4>
                    </div>
                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 8</h4>
                        <h4 class="alt_title5">8h</h4>
                    </div>
                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 9</h4>
                        <h4 class="alt_title5">8h</h4>
                    </div>
                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 10</h4>
                        <h4 class="alt_title5">8h</h4>
                    </div>

                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 11</h4>
                        <h4 class="alt_title5">10h</h4>
                    </div>
                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 12</h4>
                        <h4 class="alt_title5">8h</h4>
                    </div>
                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 13</h4>
                        <h4 class="alt_title5">2h</h4>
                    </div>
                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 14</h4>
                        <h4 class="alt_title5">0h</h4>
                    </div>
                    <div class="quadrado2">
                        <h4 class="alt_title5">dia 15</h4>
                        <h4 class="alt_title5">8h</h4>
                    </div>
                </div>
            </div>
        </div>



        <!-- Desempenho equipe (quando clicado) / Aplicativos Usados -->
        <div id="div_aplicativos_usados" class="div_tempo_logado" style="display: none;">

            <!-- Divisória -->
            <div class="div_divisora_alt" id="div_divisora_alt3"></div>

            <div class="div_data">
                <h2 class="alt_title3">Aplicativos usados hoje:</h2>

                <div class="organizadora_alt2">

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/Apache_NetBeans.png">
                        <h4 class="alt_title5">2h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/vs-code.png">
                        <h4 class="alt_title5">4h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/chrome.png">
                        <h4 class="alt_title5">0.4h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/Microsoft_Office_Teams.png">
                        <h4 class="alt_title5">5h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/spotify.png">
                        <h4 class="alt_title5">2h</h4>
                    </div>

                </div>
            </div>

            <!-- Divisória -->
            <div class="div_divisora_alt"></div>

            <div class="div_data">

                <h2 class="alt_title3">Aplicativos usados na semana:</h2>

                <div class="organizadora_alt2">

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/Apache_NetBeans.png">
                        <h4 class="alt_title5">10h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/vs-code.png">
                        <h4 class="alt_title5">12h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/chrome.png">
                        <h4 class="alt_title5">4h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/youtube.png">
                        <h4 class="alt_title5">2h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/Microsoft_Office_Teams.png">
                        <h4 class="alt_title5">25h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/spotify.png">
                        <h4 class="alt_title5">10h</h4>
                    </div>

                </div>
            </div>

            <!-- Divisória -->
            <div class="div_divisora_alt"></div>

            <div class="div_data">
                <h2 class="alt_title3">Aplicativos usados na quinzena</h2>

                <div class="organizadora_alt2">

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/Apache_NetBeans.png">
                        <h4 class="alt_title5">20h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/vs-code.png">
                        <h4 class="alt_title5">30h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/chrome.png">
                        <h4 class="alt_title5">8h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/youtube.png">
                        <h4 class="alt_title5">3h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/Microsoft_Office_Teams.png">
                        <h4 class="alt_title5">45h</h4>
                    </div>

                    <div class="quadrado3">
                        <img class="img_quadrado" src="img/spotify.png">
                        <h4 class="alt_title5">14h</h4>
                    </div>

                </div>
            </div>

        </div>


    </div>

</body>

</html>

<script>
    // Código sendo preparado para receber APIs

    // NOVAS COISAS
    var idFuncionario = sessionStorage.getItem('idFuncionario');

    function tempo_logado() {
        div_options.style.display = "none";
        div_tempo_logado.style.display = "block";
    }

    function aplicativos_usados() {
        div_options.style.display = "none";
        div_aplicativos_usados.style.display = "block";
    }

    // NOVAS FUNCTIONS
    window.onload = function online() {


        bemvindoNome();
        trazerFuncionariosOnline();
        isOnline(isOnline);


        online_1.style.backgroundColor = "red";
        ok = "img/checked.png";
        notOk = "img/warning.png";
        check_1.src = ok;
        check_2.src = ok;
        check_3.src = ok;
        check_4.src = ok;
        check_5.src = notOk;
        check_6.src = notOk;
    }

    cont = 0;

    function mudar_frase() {
        if (cont == 0) {
            h2_alt.style.fontSize = "18px";
            h2_alt.innerHTML =
                "Desempenho dos membros da equipe (Para ver detalhes, clique no ícone do membro da equipe desejado)";
            cont++;
        } else {
            h2_alt.style.fontSize = "24px";
            h2_alt.innerHTML = "Desempenho dos membros da equipe";
            cont--;
        }
    }

    function abrir_info(name) {

        desempenho_1.style.display = "none";
        desempenho_2.style.display = "none";
        desempenho_3.style.display = "none";
        desempenho_4.style.display = "none";
        desempenho_5.style.display = "none";
        desempenho_6.style.display = "none";
        div_desempenho_pai.style.display = "none";

        div_desempenho_pai_alternativa.style.display = "block";

        h2_nome.innerHTML = "Amanda";

    }

    // Seta (voltar)
    function go_back() {
        location.reload();
    }

    cont_checkbox_hoje = 1;
    cont_checkbox_semana = 1;
    cont_checkbox_quinzena = 1;

    function caixa_usado_hoje() {
        if (cont_checkbox_hoje == 0) {
            div_usado_hoje.style.display = "none";
            div_divisora_alt1.style.display = "none";
            cont_checkbox_hoje++;
        } else {
            div_usado_hoje.style.display = "block";
            div_divisora_alt1.style.display = "block"
            cont_checkbox_hoje--;
        }
    }

    function caixa_usado_semana() {
        if (cont_checkbox_semana == 0) {
            div_usado_semana.style.display = "none";
            div_divisora_alt2.style.display = "none";
            cont_checkbox_semana++;
        } else {
            div_usado_semana.style.display = "block";
            div_usado_semana.style.display = "flex";
            div_divisora_alt2.style.display = "block";
            cont_checkbox_semana--;
        }
    }

    function caixa_usado_quinzena() {
        if (cont_checkbox_quinzena == 0) {
            div_usado_quinzena.style.display = "none";
            div_divisora_alt3.style.display = "none";
            cont_checkbox_quinzena++;
        } else {
            div_usado_quinzena.style.display = "revert";
            div_usado_quinzena.style.display = "flex";
            div_divisora_alt3.style.display = "block";
            cont_checkbox_quinzena--;
        }
    }




    // NOVAS FUNCTIONS
    function bemvindoNome() {
        h1_1.innerHTML = `BEM-VINDO ${sessionStorage.getItem('nome').toUpperCase()}`;
    }

    function trazerFuncionariosOnline() {

        fetch(`/usuarios/verOnline/${idFuncionario}`, {
            method: "post"
        }).then(resposta => {

            if (resposta.ok) {

                resposta.json().then(json => {

                    console.log(json);

                    //Mostrar cada funcionário na tela

                    for (let index = 0; index < json.length; index++) {

                        div_online.innerHTML += `<div class="div_online_content">
                        <h3>${json[index].nomeFuncionario}</h3>
                        <div class="circulo" id="circulo${json[index].idFuncionario}"></div>
                        </div>`
                    }

                });

            } else {
                alert('Você não possui funcionários para monitorar')
            }
        });

        return false;

    }
</script>